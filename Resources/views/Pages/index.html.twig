{#
   This file is part of the RedKiteCmsBunde Application and it is distributed
   under the GPL LICENSE Version 2.0. To use this application you must leave
   intact this copyright notice.

   Copyright (c) RedKite Labs <webmaster@redkite-labs.com>

   For the full copyright and license information, please view the LICENSE
   file that was distributed with this source code.

   For extra documentation and help please visit http://www.redkite-labs.com

   @license    GPL LICENSE Version 2.0
#}

{% extends 'RedKiteCmsBundle:Panels:base.html.twig' %}

{% set cms_language = configuration.read('language') %}
{% set panel_class = 'al_panel_contents_width' %}

{% block al_sidebar_middle_inside %}
<div id="al_pages">

    {{ form_errors(pagesForm) }}
    {{ form_errors(pageAttributesForm) }}

    <ul class="nav nav-tabs">
        <li class="active"><a href="#page" data-toggle="tab">{{ "pages_controller_label_page"|trans({}, 'RedKiteCmsBundle', cms_language) }}</a></li>
        <li><a href="#seo" data-toggle="tab">{{ "pages_controller_label_seo"|trans({}, 'RedKiteCmsBundle', cms_language) }}</a></li>
        <li><a href="#sitemap" data-toggle="tab">{{ "pages_controller_label_sitemap"|trans({}, 'RedKiteCmsBundle', cms_language) }}</a></li>
    </ul>
    
    <div class="tab-content">
        <div class="tab-pane active tab-height-page" id="page">
            <div id="al_pages_attributes_section">
                <table id="al_page_form" border="0">
                    <tr>
                      <td colspan="2"><h2>{{ "pages_controller_label_page"|trans({}, 'RedKiteCmsBundle', cms_language) }}</h2></td>
                    </tr>
                    <tr>
                      <td>{{ form_label(pagesForm.pageName, "pages_controller_label_page_name"|trans({}, 'RedKiteCmsBundle', cms_language)) }}</td>
                      <td>{{ form_errors(pagesForm.pageName) }} {{ form_widget(pagesForm.pageName, { 'attr': {'title': "pages_controller_insert_unique_name"|trans({}, 'RedKiteCmsBundle', cms_language)}}) }} </td>
                    </tr>

                    <tr>
                      <td>{{ form_label(pagesForm.template, "pages_controller_label_template"|trans({}, 'RedKiteCmsBundle', cms_language)) }}</td>
                      <td>
                        {{ form_errors(pagesForm.template) }} {{ form_widget(pagesForm.template, { 'attr': {'title': "pages_controller_choose_template"|trans({}, 'RedKiteCmsBundle', cms_language)}}) }}
                      </td>
                    </tr>
                    <tr>
                      <td>{{ form_label(pagesForm.isHome, "pages_controller_label_home_page"|trans({}, 'RedKiteCmsBundle', cms_language)) }}</td>
                      <td>
                        {{ form_errors(pagesForm.isHome) }} {{ form_widget(pagesForm.isHome, { 'attr': {'title': "pages_controller_home_page_explanation"|trans({}, 'RedKiteCmsBundle', cms_language)}}) }}
                      </td>
                    </tr>
                    <tr>
                      <td>{{ form_label(pagesForm.isPublished, "pages_controller_label_published"|trans({}, 'RedKiteCmsBundle', cms_language)) }}</td>
                      <td>
                        {{ form_errors(pagesForm.isPublished) }} {{ form_widget(pagesForm.isPublished, { 'attr': {'title': "pages_controller_publish_checkbox"|trans({}, 'RedKiteCmsBundle', cms_language)}}) }}
                      </td>
                    </tr>
                </table>
            </div>
        </div>
    
        <div class="tab-pane tab-height-page" id="seo">
            <div id="al_pages_seo_attributes_section">
                <table id="al_attributes_form" border="0">
                    <tr>
                      <td colspan="2"><h2>{{ "pages_controller_seo"|trans({}, 'RedKiteCmsBundle', cms_language) }}</h2></td>
                    </tr>
                    <tr>
                      <td>{{ form_label(pageAttributesForm.permalink, "pages_controller_label_permalink"|trans({}, 'RedKiteCmsBundle', cms_language)) }}</td>
                      <td>{{ form_errors(pageAttributesForm.permalink) }} {{ form_widget(pageAttributesForm.permalink, { 'attr': {'rows': '2', 'class': 'input-xlarge', 'title': "pages_controller_permalink"|trans({}, 'RedKiteCmsBundle', cms_language)}}) }}</td>
                    </tr>
                    <tr>
                      <td>{{ form_label(pageAttributesForm.title, "pages_controller_meta_title"|trans({}, 'RedKiteCmsBundle', cms_language)) }}</td>
                      <td>{{ form_errors(pageAttributesForm.title) }} {{ form_widget(pageAttributesForm.title, { 'attr': {'rows': '2', 'class': 'input-xlarge', 'title': "pages_controller_meta_title_explanation"|trans({}, 'RedKiteCmsBundle', cms_language)}}) }}</td>
                    </tr>
                    <tr>
                      <td>{{ form_label(pageAttributesForm.description, "pages_controller_meta_description"|trans({}, 'RedKiteCmsBundle', cms_language)) }}</td>
                      <td>{{ form_errors(pageAttributesForm.description) }}  {{ form_widget(pageAttributesForm.description, { 'attr': {'rows': '3', 'class': 'input-xlarge', 'title': "pages_controller_meta_description_explanation"|trans({}, 'RedKiteCmsBundle', cms_language)}}) }}</td>
                    </tr>
                    <tr>
                      <td>{{ form_label(pageAttributesForm.keywords, "pages_controller_meta_keywords"|trans({}, 'RedKiteCmsBundle', cms_language)) }}</td>
                      <td>{{ form_errors(pageAttributesForm.keywords) }} {{ form_widget(pageAttributesForm.keywords, { 'attr': {'rows': '3', 'class': 'input-xlarge', 'title': "pages_controller_meta_keywords_explanation"|trans({}, 'RedKiteCmsBundle', cms_language)}}) }}</td>
                    </tr>
                    <tr>
                      <td>
                        {{ form_rest(pagesForm) }}
                      </td>
                    </tr>
                </table>
            </div>
        </div>
    
        <div class="tab-pane tab-height-page" id="sitemap">
            <div id="al_pages_site_map_section">
                <table id="al_sitemp_form" border="0">
                    <tr>
                      <td colspan="2"><h2>{{ "pages_controller_label_site_map"|trans({}, 'RedKiteCmsBundle', cms_language) }}</h2></td>
                    </tr>
                    <tr>
                      <td>{{ form_label(pageAttributesForm.sitemapChangeFreq, "pages_controller_label_change frequency"|trans({}, 'RedKiteCmsBundle', cms_language)) }}</td>
                      <td>{{ form_errors(pageAttributesForm.sitemapChangeFreq) }} {{ form_widget(pageAttributesForm.sitemapChangeFreq) }}</td>
                    </tr>
                    <tr>
                      <td>{{ form_label(pageAttributesForm.sitemapPriority, "pages_controller_label_priority"|trans({}, 'RedKiteCmsBundle', cms_language)) }}</td>
                      <td>{{ form_errors(pageAttributesForm.sitemapPriority) }} {{ form_widget(pageAttributesForm.sitemapPriority) }}</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</div>
<div class="pull-right">
    <input id="al_page_saver" type="submit" value="{{ "common_label_save"|trans({}, 'RedKiteCmsBundle', cms_language) }}" class="btn btn-primary" />
</div>
{% endblock %}

{% block al_sidebar_right_inside %}
    <h2>{{ "pages_controller_label_pages_selector"|trans({}, 'RedKiteCmsBundle', cms_language) }}</h2>
    <div>
        {{ form_label(pageAttributesForm.idLanguage, "pages_controller_label_languages"|trans({}, 'RedKiteCmsBundle', cms_language)) }}
        {{ form_errors(pageAttributesForm.idLanguage) }} {{ form_widget(pageAttributesForm.idLanguage) }}
        {{ form_rest(pageAttributesForm) }}
    </div>

    <div id="al_pages_box" class="al_panel_box">
        <div class="al_panel_box_header">
            <span class="al_panel_box_header_title white-text-shadow">{{ "pages_controller_label_site_pages"|trans({}, 'RedKiteCmsBundle', cms_language) }}</span>
        </div>
        <div id="al_pages_list" class="al_panel_list">
            {% include 'RedKiteCmsBundle:Pages:pages_list.html.twig' %}
        </div>
    </div>

    <input id="al_pages_remover" class="btn btn-danger pull-right" type="submit" value="{{ "common_label_delete"|trans({}, 'RedKiteCmsBundle', cms_language) }}" />

    <div id="al_select_languages_reminder">{{ "pages_controller_next_step"|trans({}, 'RedKiteCmsBundle', cms_language) }}</div>
{% endblock %}
